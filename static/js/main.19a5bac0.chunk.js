(this.webpackJsonpfishv3=this.webpackJsonpfishv3||[]).push([[0],[,,,,,,,function(e,a,t){e.exports={container:"variable_container__3EWWl",variableHeader:"variable_variableHeader__2pAym",variableName:"variable_variableName__jHux3",navButton:"variable_navButton__EZb03",map:"variable_map__DYo7e",mapImage:"variable_mapImage__2S7Dq",basicVarInfo:"variable_basicVarInfo__2r_9F",spaceHolderOne:"variable_spaceHolderOne__36Hk6",basicInfo:"variable_basicInfo__98ud1",timeInfo:"variable_timeInfo__1gf3P",dailyTime:"variable_dailyTime___RWfC",dailyYScale:"variable_dailyYScale__nvv-7",dailyXScale:"variable_dailyXScale__3d-vc",yearlyTime:"variable_yearlyTime__iDu5k",castHistory:"variable_castHistory__2QACu",monthXScale:"variable_monthXScale__2-adZ",month:"variable_month__28BLP"}},,,,function(e,a,t){e.exports={menuContainer:"mainMenu_menuContainer__yFvJS",fishingDashboard:"mainMenu_fishingDashboard__2BceL",fullScreenFishingDash:"mainMenu_fullScreenFishingDash__1u1nb",sessionDashboard:"mainMenu_sessionDashboard__1l3eJ",fullScreenSessionDash:"mainMenu_fullScreenSessionDash__5oW4B",extraStats:"mainMenu_extraStats__3w3f6",dashboardExtender:"mainMenu_dashboardExtender__3InqX",optionsWrapper:"mainMenu_optionsWrapper__2UcZO",optionButtonsClosed:"mainMenu_optionButtonsClosed__D08-t",optionButtonsOpened:"mainMenu_optionButtonsOpened__2o17w",buttonContainer:"mainMenu_buttonContainer__1Nt4W",buttonInfoHeader:"mainMenu_buttonInfoHeader__1fsiR",buttonInfo:"mainMenu_buttonInfo__1DqPi",buttonInfoContainer:"mainMenu_buttonInfoContainer__38ymi",button:"mainMenu_button__3viG9"}},,function(e,a,t){e.exports={container:"session_container__950hQ",display:"session_display__3g2vz",lakeName:"session_lakeName__3A8Os",castInfo:"session_castInfo__2g4Sl",displayItem:"session_displayItem__30XTh",controls:"session_controls__3N8EW",rods:"session_rods__21mgV",rodOptions:"session_rodOptions__3iR38",fishingControls:"session_fishingControls__20XEm",hBox:"session_hBox__1YpAm",fullButton:"session_fullButton__3O1Nq",halfButton:"session_halfButton__wMZ-x"}},function(e,a,t){e.exports={container:"lakeStats_container__3WcWD",hbox:"lakeStats_hbox__1pDhf",button:"lakeStats_button__D8avZ",lakeInfoContainer:"lakeStats_lakeInfoContainer__Gvd9x",infoHeader:"lakeStats_infoHeader__3obKq",stats:"lakeStats_stats__21ftC",timeData:"lakeStats_timeData__31wxm",buttonContainer:"lakeStats_buttonContainer__Yv6mk",buttonContainerFullScreen:"lakeStats_buttonContainerFullScreen__1wBHJ"}},,,,,,,,,,,,,,,,,function(e,a,t){e.exports={container:"sessionDash_container__2oq5U",buttonContainer:"sessionDash_buttonContainer__1pNzQ",button:"sessionDash_button__li4O_"}},function(e,a,t){e.exports={container:"variableManager_container__2rlTw",card:"variableManager_card__178uL",variableHeader:"variableManager_variableHeader__qL6EA",variableBody:"variableManager_variableBody__1C7Zg",buttons:"variableManager_buttons__SuBT1",button:"variableManager_button__10S6n",variable:"variableManager_variable__3fGX-"}},function(e,a,t){e.exports={hBox:"castList_hBox__2tFQI",showItem:"castList_showItem__3Ndyt"}},,,,function(e,a,t){e.exports={container:"variableManagement_container__v6GX5",infoHeader:"variableManagement_infoHeader__1w-wh",infoBody:"variableManagement_infoBody__1yTVH",variableSelectors:"variableManagement_variableSelectors__2-L3T"}},,,,,function(e,a,t){e.exports={container:"lakeAccordion_container__2swJ5",lakeItem:"lakeAccordion_lakeItem__3MmoZ"}},,,,,,,,,,,,function(e,a,t){e.exports={container:"dailyWeather_container__1PUWA",day:"dailyWeather_day__1DM5k"}},function(e,a,t){e.exports={container:"biHourlyWeather_container__334g4",hour:"biHourlyWeather_hour__1vqSv"}},,,,function(e,a,t){e.exports={navContainer:"nav_navContainer__2VmMG",logo:"nav_logo__YKx8G"}},,,function(e,a,t){e.exports={day:"todaysWeather_day__3a-EO",container:"todaysWeather_container__11GkS"}},,function(e,a,t){e.exports={header:"stats_header__5ozD7"}},function(e,a,t){e.exports={container:"timeGraph_container__2TSxV",hour:"timeGraph_hour__iYVbE"}},function(e,a,t){e.exports={container:"dayGraph_container__CLhgI",day:"dayGraph_day__2EewO"}},,,,,,,function(e,a,t){e.exports={app:"app_app__DymWZ"}},,,function(e,a,t){e.exports=t.p+"static/media/sunny.6f23afcf.svg"},function(e,a,t){e.exports=t.p+"static/media/night.7fc8c9ca.svg"},function(e,a,t){e.exports=t.p+"static/media/light_cloud_day.3b376228.svg"},function(e,a,t){e.exports=t.p+"static/media/light_cloud_night.57c71da3.svg"},function(e,a,t){e.exports=t.p+"static/media/cloudy.c297a69d.svg"},function(e,a,t){e.exports=t.p+"static/media/broken_cloud.7eb0aaa9.svg"},function(e,a,t){e.exports=t.p+"static/media/shower.26322a64.svg"},function(e,a,t){e.exports=t.p+"static/media/rain.72435381.svg"},function(e,a,t){e.exports=t.p+"static/media/lightning.d3f8d010.svg"},function(e,a,t){e.exports=t.p+"static/media/snow.cb13ad44.svg"},function(e,a,t){e.exports=t.p+"static/media/mist.e75d8279.svg"},function(e,a,t){e.exports={container:"extraLakeStats_container__3Q667",buttonContainer:"extraLakeStats_buttonContainer__1b93u",button:"extraLakeStats_button__2vl7o"}},,,,function(e,a,t){e.exports=t(105)},,,,,function(e,a,t){},,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(26),i=t.n(r),l=(t(96),t(58)),c=t(22),o=t(71),d=t(72),u=t(90),m=t(89),h=t(73),v=t.n(h),b=t(59),f=t.n(b),g=t(12);var p=function(e){return s.a.createElement("div",{className:f.a.navContainer},s.a.createElement(g.b,{className:f.a.logo,to:"/fishv3/"},"Fincounter"))},E=t(9),_=t(18),k=t(11),S=t.n(k),y=t(42),C=t.n(y),N=t(23),I=t(19);var w=function(e){return s.a.createElement("div",{className:C.a.container},s.a.createElement(N.a,{className:C.a.accordian},e.lakes.map((function(a,t){return null===a?null:s.a.createElement(I.a,{key:t,style:{backgroundColor:t===e.currentIndex?"rgb(0,123,255)":"white",color:t===e.currentIndex?"white":"black"},onClick:function(){e.selectLake(t)},className:C.a.lakeItem},a.name)})),s.a.createElement(I.a,{className:C.a.lakeItem,onClick:function(){var a=prompt("Enter the new lakes name:");a&&e.addLake(a)}},"New Lake")))},x=t(14),T=t.n(x),H=t(5),V=t(62),D=t.n(V),O=t(76),M=t.n(O),B=t(77),F=t.n(B),L=t(78),U=t.n(L),W=t(79),R=t.n(W),j=t(80),A=t.n(j),J=t(81),P=t.n(J),z=t(82),G=t.n(z),Y=t(83),K=t.n(Y),X=t(84),q=t.n(X),Z=t(85),Q=t.n(Z),$=t(86),ee=t.n($);var ae=function(e){switch(e){case"01d":return M.a;case"01n":return F.a;case"02d":return U.a;case"02n":return R.a;case"03d":case"03n":return A.a;case"04d":case"04n":return P.a;case"09d":case"09n":return G.a;case"10d":case"10n":return K.a;case"11d":case"11n":return q.a;case"13d":case"13n":return Q.a;case"50d":case"50n":return ee.a;default:console.log("unrecognised weather icon code: ".concat(e))}};var te=function(e){var a;return console.log(e),e.weather.data&&(a=e.weather.data.daily[0]),e.weather.data?s.a.createElement("div",{className:D.a.day},s.a.createElement("div",{style:{backgroundColor:"orange"}},Math.round(a.temp.day),"\xb0"),s.a.createElement("div",{style:{backgroundColor:"black",color:"white"}},Math.round(a.temp.night),"\xb0"),s.a.createElement("div",null,s.a.createElement("img",{src:ae(a.weather[0].icon),alt:"".concat(a.weather[0].main," icon")})),s.a.createElement("div",{style:{fontSize:"large",fontWeight:"bold",transform:"rotate(".concat(a.wind_deg+180,"deg)")}},"\u2191"),s.a.createElement("div",null,Math.round(2.23*a.wind_speed)," mph")):s.a.createElement("div",{className:D.a.container},"No weather available")};var ne=function(e){var a=Object(n.useState)(!1),t=Object(_.a)(a,2),r=t[0],i=t[1];return r?s.a.createElement(E.a,{to:"/fishv3/variable"}):s.a.createElement("div",{className:T.a.container},null===e.lakeIndex?s.a.createElement("div",null,"Select a lake to fish"):s.a.createElement("div",{className:T.a.container}," ",s.a.createElement("div",{className:T.a.lakeInfoContainer},s.a.createElement("div",{className:T.a.infoHeader},e.lakes[e.lakeIndex].name),s.a.createElement("div",{className:T.a.hbox},s.a.createElement("div",{className:T.a.stats},s.a.createElement("div",{className:T.a.infoBody},s.a.createElement("span",{role:"img","aria-label":"catches"},"\ud83d\udc1f")," ",e.lakes[e.lakeIndex].lakes[0].catches," "),s.a.createElement("div",{className:T.a.infoBody},s.a.createElement("span",{role:"img","aria-label":"casts"},"\ud83c\udfa3")," ",e.lakes[e.lakeIndex].lakes[0].castIndexes.length),s.a.createElement("div",{className:T.a.infoBody},s.a.createElement("span",{role:"img","aria-label":"time cast"},"\u23f2"),e.mSToReadable(e.lakes[e.lakeIndex].lakes[0].duration)),s.a.createElement("div",{className:T.a.infoBody},s.a.createElement("span",{role:"img","aria-label":"heaviest catch"},"\u2696")," ",e.lakes[e.lakeIndex].lakes[0].heaviestCatch.weight," ")),s.a.createElement("div",{className:T.a.timeData},s.a.createElement(te,{weather:e.lakes[e.lakeIndex].weather})))),s.a.createElement("div",{className:T.a.buttonContainer}," ",s.a.createElement(H.a,{className:T.a.button,variant:"info",onClick:function(){var a,t;a="lakes",t=e.lakeIndex,e.setCurrentVariable(a,t),i(!0)}},"Lake"),e.currentSession?s.a.createElement(g.b,{to:"/fishv3/session"},s.a.createElement(H.a,{className:T.a.button,variant:"success"},"Session")):s.a.createElement(H.a,{className:T.a.button,variant:"success",onClick:function(){e.fishLake()}},"Fish"))))},se=t(31),re=t.n(se);var ie=function(e){return e.currentSession?s.a.createElement("div",{className:re.a.container},e.lakes[e.lakeIndex].name):s.a.createElement("div",{className:re.a.container},s.a.createElement("div",{className:re.a.lakeName},e.lakes[e.lakeIndex].name),s.a.createElement("div",null,"best bait style etc here"),s.a.createElement("div",null,"store coordinates of lake"),s.a.createElement("div",null,"look up temps"),s.a.createElement("div",{className:re.a.buttonContainer},s.a.createElement(H.a,{variant:"secondary",className:re.a.button,onClick:e.resetIsFishing},"back"),s.a.createElement(g.b,{to:"/fishv3/session"},s.a.createElement(H.a,{variant:"success",className:re.a.button,onClick:function(){e.startSession(e.lakeIndex)}},"Start session"))))},le=t(87),ce=t.n(le),oe=t(54),de=t.n(oe);var ue=function(e){return e.weather.data?s.a.createElement("div",{className:de.a.container},e.weather.data.daily.map((function(e,a){return s.a.createElement("div",{key:a,className:de.a.day},s.a.createElement("div",{style:{fontWeight:"bold"}},function(e){var a=new Date;return a.setTime(1e3*e),"".concat(a.getUTCDate(),"/").concat(a.getUTCMonth()+1)}(e.dt)),s.a.createElement("div",{style:{backgroundColor:"orange"}},Math.round(e.temp.day),"\xb0"),s.a.createElement("div",{style:{backgroundColor:"black",color:"white"}},Math.round(e.temp.night),"\xb0"),s.a.createElement("div",null,s.a.createElement("img",{src:ae(e.weather[0].icon),alt:"".concat(e.weather[0].main," icon")})),s.a.createElement("div",{style:{fontSize:"large",fontWeight:"bold",transform:"rotate(".concat(e.wind_deg+180,"deg)")}},"\u2191"),s.a.createElement("div",null,Math.round(2.23*e.wind_speed)))}))):s.a.createElement("div",{className:de.a.container},"No weather available")},me=t(55),he=t.n(me);var ve=function(e){var a=function(e){var a=new Date;return a.setTime(1e3*e),a.getUTCHours()},t=[];if(e.weather.data)for(var n=0;n<16;n+=2)t.push(e.weather.data.hourly[n]);return e.weather.data?s.a.createElement("div",{className:he.a.container},t.map((function(e,t){return s.a.createElement("div",{key:t,className:he.a.hour},s.a.createElement("div",{style:{fontWeight:"bold",fontSize:"smaller"}},a(e.dt),":00"),a(e.dt)<20&&a(e.dt)>6?s.a.createElement("div",{style:{backgroundColor:"orange"}},Math.round(e.temp),"\xb0"):s.a.createElement("div",{style:{backgroundColor:"black",color:"white"}},Math.round(e.temp),"\xb0"),s.a.createElement("div",null,s.a.createElement("img",{src:ae(e.weather[0].icon),alt:"".concat(e.weather[0].main," icon")})),s.a.createElement("div",{style:{fontSize:"large",fontWeight:"bold",transform:"rotate(".concat(e.wind_deg+180,"deg)")}},"\u2191"),s.a.createElement("div",null,Math.round(2.23*e.wind_speed)))}))):s.a.createElement("div",{className:he.a.container},"No weather available")},be=t(88),fe=t(63);var ge=function(e){return s.a.createElement("div",{className:ce.a.container},null!==e.lakeIndex?s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(be.a,{transition:!1,defaultActiveKey:"daily"},s.a.createElement(fe.a,{eventKey:"daily",title:"Daily"},s.a.createElement(ue,{weather:e.lakes[e.lakeIndex].weather})),s.a.createElement(fe.a,{eventKey:"Hourly",title:"Hourly"},s.a.createElement(ve,{weather:e.lakes[e.lakeIndex].weather})))," "):s.a.createElement("div",null,"Select a lake to see the weather"))};var pe=function(e){var a=Object(n.useState)(null),t=Object(_.a)(a,2),r=t[0],i=t[1],l=(Object(E.g)(),Object(n.useState)(!1)),c=Object(_.a)(l,2),o=c[0],d=c[1],u=Object(n.useState)(!0),m=Object(_.a)(u,2),h=m[0],v=m[1],b=function(e){d(!0)},f=r;return(null===e.lakes||f>=e.lakes.length)&&(f=null,console.log("error: lakes === null or invalid index")),s.a.createElement("div",{className:S.a.menuContainer}," ",o?s.a.createElement("div",{className:S.a.sessionDashboard},s.a.createElement(ie,{isFullScreen:h,lakes:e.lakes,lakeIndex:f,resetIsFishing:function(){d(!1)},startSession:e.startSession})," "):s.a.createElement("div",{className:S.a.fullScreenFishingDash},s.a.createElement(w,{className:S.a.lakeAccordion,lakes:e.lakes,selectLake:function(a){i(a),e.setCurrentVariable("lakes",a),e.lakeWeatherRefresh(a)},currentIndex:f,addLake:e.addLake}),s.a.createElement(ne,{className:S.a.lakeStats,lakes:e.lakes,lakeIndex:f,fishLake:b,mSToReadable:e.mSToReadable,setCurrentVariable:e.setCurrentVariable,setLocation:e.setLocation,manualSetLocation:e.manualSetLocation,currentSession:e.currentSession})),s.a.createElement("div",{className:S.a.extraStats},s.a.createElement(ge,{lakes:e.lakes,lakeIndex:f,fishLake:b,setCurrentVariable:e.setCurrentVariable})),s.a.createElement("div",{className:S.a.optionsWrapper},s.a.createElement("div",{className:h?S.a.optionButtonsClosed:S.a.optionButtonsOpened},s.a.createElement("div",{className:S.a.dashboardExtender,onClick:function(){return v(!h)}},s.a.createElement("p",{style:{fontSize:"x-large"}},"Stats and Settings")),s.a.createElement("div",{className:S.a.buttonContainer},s.a.createElement("div",{className:S.a.buttonInfoContainer},s.a.createElement("div",{className:S.a.buttonInfoHeader},"Manage user variables"),s.a.createElement("div",{className:S.a.buttonInfo},"look up, edit and create new lakes/baits..")),s.a.createElement(g.b,{to:"/fishv3/manage"},s.a.createElement(H.a,{className:S.a.button}," "))),s.a.createElement("div",{className:S.a.buttonContainer},s.a.createElement("div",{className:S.a.buttonInfoContainer},s.a.createElement("div",{className:S.a.buttonInfoHeader},"Stats"),s.a.createElement("div",{className:S.a.buttonInfo},"use stats to find the best variables for your session")),s.a.createElement(g.b,{to:"/fishv3/stats"},s.a.createElement(H.a,{className:S.a.button}," "))))))},Ee=t(37),_e=t.n(Ee),ke=t(36),Se=t(32),ye=t.n(Se);var Ce=function(e){var a=Object(n.useState)(!1),t=Object(_.a)(a,2),r=t[0],i=t[1];return r?s.a.createElement(E.a,{to:"/fishv3/variable"}," "):s.a.createElement("div",{className:ye.a.container},s.a.createElement(N.a,null,e.variables.map((function(a,t){return null==a?null:s.a.createElement(I.a,{key:t},s.a.createElement(N.a.Toggle,{as:I.a.Header,eventKey:t},s.a.createElement("div",{className:ye.a.variableHeader,onClick:function(){!function(a){e.setCurrentVariable(a),i(!0)}(t)}},s.a.createElement("div",null,a.name),s.a.createElement("div",{className:ye.a.buttons},s.a.createElement(H.a,{className:ye.a.button,variant:"secondary",onClick:function(a){!function(a,t){e.editVarName(t),a.stopPropagation()}(a,t)}},s.a.createElement("div",null,"\u270e")),s.a.createElement(H.a,{className:ye.a.button,variant:"danger",onClick:function(a){!function(a,t){e.deleteVar(t),console.log(t),a.stopPropagation()}(a,t)}},"\u2716")))))})),s.a.createElement(N.a.Toggle,{as:I.a.Header,style:{backgroundColor:"lightGray"},eventKey:"0"},s.a.createElement("div",{className:ye.a.variableHeader,onClick:function(){!function(){var a=prompt("New variable:");a&&e.addVariable(a)}()}},"Add variable"))))};var Ne=function(e){var a=function(a){switch(e.filter){case"lakes":e.addLake(a);break;case"baits":e.addBait(a);break;case"styles":e.addStyle(a);break;case"species":e.addSpecies(a);break;default:console.log("Unrecognised variable filter : ".concat(e.filter))}},t=function(a){e.editVarName(e.filter,a)},n=function(a){e.deleteVariable(e.filter,a)},r=function(a){e.setCurrentVariable(e.filter,a)};return s.a.createElement("div",{className:_e.a.container},s.a.createElement("div",{className:_e.a.managementInfo},s.a.createElement("div",{className:_e.a.infoHeader},"My variables"),s.a.createElement("div",{className:_e.a.infoBody},"you keep the casts when deleting variables")),s.a.createElement(ke.a,{className:_e.a.variableSelectors},s.a.createElement(H.a,{variant:"lakes"===e.filter?"success":"primary",onClick:function(){e.setFilter("lakes")}},"Lakes"),s.a.createElement(H.a,{variant:"baits"===e.filter?"success":"primary",onClick:function(){e.setFilter("baits")}},"Baits"),s.a.createElement(H.a,{variant:"styles"===e.filter?"success":"primary",onClick:function(){e.setFilter("styles")}},"Styles"),s.a.createElement(H.a,{variant:"species"===e.filter?"success":"primary",onClick:function(){e.setFilter("species")}},"Species")),"baits"===e.filter?s.a.createElement(Ce,{variables:e.baits,addVariable:a,setCurrentVariable:r,editVarName:t,deleteVar:n}):"styles"===e.filter?s.a.createElement(Ce,{variables:e.styles,addVariable:a,setCurrentVariable:r,editVarName:t,deleteVar:n}):"species"===e.filter?s.a.createElement(Ce,{variables:e.species,addVariable:a,setCurrentVariable:r,editVarName:t,deleteVar:n}):s.a.createElement(Ce,{variables:e.lakes,addVariable:a,setCurrentVariable:r,editVarName:t,deleteVar:n}),s.a.createElement(g.b,{to:"/fishv3/"},s.a.createElement(H.a,{variant:"primary",block:!0},"back")))},Ie=(t(104),t(64)),we=t.n(Ie);var xe=function(e){var a=[0,0,0,0],t=[0,0,0,0],n=[0,0,0,0];for(var r in e.castHistory)a[r.species]+=1,t[r.bait]+=1,n[r.style]+=1;return s.a.createElement("div",{className:we.a.container},s.a.createElement("div",{className:we.a.header},"Stats & Tools"),a.map((function(a,t){return s.a.createElement("div",null,e.species[t].name,": ",a)})),t.map((function(a,t){return s.a.createElement("div",null,e.baits[t].name,": ",a)})),n.map((function(a,t){return s.a.createElement("div",null,e.styles[t].name,": ",a)})))},Te=t(7),He=t.n(Te),Ve=t(65),De=t.n(Ve);var Oe=function(e){return s.a.createElement("div",{className:De.a.container},e.times.map((function(e,a){return s.a.createElement("div",{className:De.a.hour,key:a},s.a.createElement("div",{style:{height:"".concat(e.durationFished/60/e.catches<25?"".concat(e.durationFished/60/e.catches*4,"%"):"100%"),width:"".concat(3.75,"vw"),backgroundColor:"gray"}}),s.a.createElement("div",{style:{height:"".concat(e.durationFished/60/e.catches<25?"".concat(4*(25-e.durationFished/60/e.catches),"%"):"0%"),width:"".concat(3.75,"vw"),backgroundColor:"green"}}))})))},Me=t(66),Be=t.n(Me);var Fe=function(e){return s.a.createElement("div",{className:Be.a.container},e.days.map((function(e,a){return s.a.createElement("div",{className:Be.a.day,key:a},s.a.createElement("div",{style:{height:"".concat(e.durationFished/60/e.catches<25?"".concat(e.durationFished/60/e.catches*4,"%"):"100%"),width:"".concat(90/366,"vw"),backgroundColor:"gray"}}),s.a.createElement("div",{style:{height:"".concat(e.durationFished/60/e.catches<25?"".concat(4*(25-e.durationFished/60/e.catches),"%"):"0%"),width:"".concat(90/366,"vw"),backgroundColor:"green"}}))})))},Le=t(33),Ue=t.n(Le);var We=function(e){var a=Object(n.useState)(10),t=Object(_.a)(a,2),r=t[0],i=t[1],l=e.castIndexes.slice(-r);return 0===e.castIndexes.length?s.a.createElement("div",{className:"container"},s.a.createElement("h4",{style:{textAlign:"center"}},"NO CASTS RECORDED YET")):s.a.createElement("div",{className:Ue.a.container},s.a.createElement(N.a,{className:Ue.a.accordion},l.map((function(a,t){return s.a.createElement(I.a,null,s.a.createElement(N.a.Toggle,{as:I.a.Header,eventKey:t,style:{backgroundColor:e.castHistory[a].catch?"green":"red"}},s.a.createElement("div",null,function(a){var t=e.mSToDate(a.reelInTime);return s.a.createElement("div",{className:Ue.a.hBox},s.a.createElement("div",null,e.lakes[a.lake].name),s.a.createElement("div",{className:Ue.a.hBox},s.a.createElement("div",null,"".concat(t.getUTCHours()<10?"0".concat(t.getUTCHours()):t.getUTCHours(),":").concat(t.getUTCMinutes()<10?"0".concat(t.getUTCMinutes()):t.getUTCMinutes())),s.a.createElement("div",null,"".concat(t.getUTCDate(),"/").concat(t.getUTCMonth()+1,"/").concat(t.getUTCFullYear(),"\n          "))," "))}(e.castHistory[a]))),s.a.createElement(N.a.Collapse,{eventKey:t},s.a.createElement(I.a.Body,null,function(a){var t=e.mSToDate(a.castTime),n=e.mSToDate(a.reelInTime);return s.a.createElement("div",{className:Ue.a.hBox},s.a.createElement("div",null,s.a.createElement("div",null,"".concat(e.styles[a.style].name," with ").concat(e.baits[a.bait].name)),s.a.createElement("div",null,s.a.createElement("div",null,"Cast Time: ".concat(t.getUTCHours()<10?"0".concat(t.getUTCHours()):t.getUTCHours(),":").concat(t.getUTCMinutes()<10?"0".concat(t.getUTCMinutes()):t.getUTCMinutes())),s.a.createElement("div",null,"Duration: ".concat((a.duration/6e4).toFixed()," minutes")))),a.catch?s.a.createElement("div",null,s.a.createElement("div",null,a.weight,"lb ",e.species[a.species].name),s.a.createElement("div",null,"Catch Time: ".concat(n.getUTCHours()<10?"0".concat(n.getUTCHours()):n.getUTCHours(),":").concat(n.getUTCMinutes<10?"0".concat(n.getUTCMinutes()):n.getUTCMinutes()))):s.a.createElement("div",null))}(e.castHistory[a]))))})),s.a.createElement(I.a,{className:Ue.a.showItem,onClick:function(){return i(r+10)}},"show more")))};var Re=function(e){console.log(e.variable);for(var a=[],t=0;t<24;t++)a.push({catches:0,durationFished:0});for(var n=[],r=0;r<372;r++)n.push({catches:0,durationFished:0});if(!e.variable.variableType)return s.a.createElement(E.a,{to:"/fishv3/manage"});var i=null,l=null,c=null;if(null!==e[e.variable.variableType][e.variable.variableIndex]){if("lakes"===e.variable.variableType?(null!==(l=e.lakes[e.variable.variableIndex].coordinates)&&(c="https://www.mapquestapi.com/staticmap/v5/map?key=A7omwtwwpDrrpg4x1QDSeCTy8VutBoT4&center=".concat(l.latitude,",").concat(l.longitude,"&zoom=16&size=200,200&type=sat")),i=e.lakes[e.variable.variableIndex].lakes[0]):i=e[e.variable.variableType][e.variable.variableIndex],void 0===i.castIndexes)return s.a.createElement(E.a,{to:"/fishv3/manage"}," ");for(var o=0;o<i.castIndexes.length;o++){var d=e.mSToDate(e.castHistory[o].reelInTime),u=e.castHistory[o].duration/6e4,m=new Date;m.setMilliseconds(d);var h=m.getUTCHours(),v=m.getUTCMinutes(),b=m.getUTCDate(),f=m.getUTCMonth();e.castHistory[o].catch&&(a[h].catches+=1,n[31*f+b-1].catches+=1);var p=v;a[h].durationFished+=p;for(var _=1,k=u-p;k>0;_++)k>59?(k-=60,a[(h+24-_)%24].durationFished+=60):(a[(h+24-_)%24].durationFished+=k,k-=k);n[31*f+b-1].durationFished+=u}n.splice(59,3),n.splice(120,1),n.splice(181,1),n.splice(273,1),n.splice(334,1)}return null==i?null:s.a.createElement("div",{className:He.a.container},s.a.createElement("div",{className:He.a.variableHeader},s.a.createElement("div",{className:He.a.navButton,onClick:e.prevVar},"\u2190"),s.a.createElement("div",{className:He.a.variableName},i.name),s.a.createElement("div",{className:He.a.navButton,onClick:e.nextVar},"\u2192")),s.a.createElement("div",{className:He.a.basicVarInfo},s.a.createElement("div",{className:He.a.map},"lakes"===e.variable.variableType?null!==l?s.a.createElement("img",{className:He.a.mapImage,src:c,alt:"lake"}):s.a.createElement("div",null,"NO MAP DATA"):null),s.a.createElement("div",{className:He.a.basicInfo},s.a.createElement("div",null,s.a.createElement("b",null,"Time cast:")," ",e.mSToHours(i.duration)),s.a.createElement("div",null,s.a.createElement("b",null,"Casts:")," ",i.castIndexes.length),s.a.createElement("div",null,s.a.createElement("b",null,"Catches:")," ",i.catches),s.a.createElement("div",null,s.a.createElement("b",null,"PB:")," ",0===i.heaviestCatch.weight?"NA":"".concat(i.heaviestCatch.weight," ").concat(i.heaviestCatch.species)),s.a.createElement("div",null))),s.a.createElement("div",{className:He.a.timeInfo},s.a.createElement("div",null,s.a.createElement("div",{className:He.a.dailyTime},s.a.createElement("div",{className:He.a.dailyYScale},s.a.createElement("div",null,"0h"),s.a.createElement("div",null,"5h"),s.a.createElement("div",null,"10h"),s.a.createElement("div",null,"15h"),s.a.createElement("div",null,"20h+")),s.a.createElement(Oe,{times:a})),s.a.createElement("div",{className:He.a.dailyXScale},a.map((function(e,a){return s.a.createElement("div",{style:{width:"".concat(3.75,"vw"),textAlign:"center"},key:a},a)})))),s.a.createElement("div",null,s.a.createElement("div",{className:He.a.yearlyTime},s.a.createElement("div",{className:He.a.dailyYScale},s.a.createElement("div",null,"0h"),s.a.createElement("div",null,"5h"),s.a.createElement("div",null,"10h"),s.a.createElement("div",null,"15h"),s.a.createElement("div",null,"20h+")),s.a.createElement(Fe,{days:n})),s.a.createElement("div",{className:He.a.monthXScale},s.a.createElement("div",{className:He.a.month},"J"),s.a.createElement("div",{className:He.a.month},"F"),s.a.createElement("div",{className:He.a.month},"M"),s.a.createElement("div",{className:He.a.month},"A"),s.a.createElement("div",{className:He.a.month},"M"),s.a.createElement("div",{className:He.a.month}," J"),s.a.createElement("div",{className:He.a.month},"J"),s.a.createElement("div",{className:He.a.month},"A"),s.a.createElement("div",{className:He.a.month},"S"),s.a.createElement("div",{className:He.a.month},"O"),s.a.createElement("div",{className:He.a.month},"N"),s.a.createElement("div",{className:He.a.month},"D")))),s.a.createElement("div",{className:He.a.castHistory},s.a.createElement(We,{castHistory:e.castHistory,castIndexes:i.castIndexes,species:e.species,styles:e.styles,lakes:e.lakes,baits:e.baits,mSToDate:e.mSToDate})),s.a.createElement(g.b,{to:"/fishv3/manage/"},s.a.createElement(H.a,{variant:"primary",block:!0},"back")))};var je=function(e){console.log("hello world");for(var a={},t=[{name:"Holton",coordinates:{latitude:52.341,longitude:1.529},weather:{data:null,lastUpdated:null},lakes:[{name:"Holton",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null},fish:[30,20,10,40]}]},{name:"Alderby",coordinates:{latitude:52.479,longitude:1.592},weather:{data:null,lastUpdated:null},lakes:[{name:"Alderby",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null},fish:[10,60,10,20]}]},{name:"Henstead",coordinates:{latitude:52.425,longitude:1.636},weather:{data:null,lastUpdated:null},lakes:[{name:"Henstead",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null},fish:[40,40,0,20]}]},{name:"Wisset",coordinates:{latitude:52.35,longitude:1.46},weather:{data:null,lastUpdated:null},lakes:[{name:"Wisset",coordinates:null,castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null},fish:[30,30,10,30]}]}],n=[{name:"Carp",castIndexes:[],catches:0,heaviestCatch:{weight:0,species:null},stylePref:[.3,.6,0,.8],baitPref:[.6,.5,.4,0]},{name:"Roach",castIndexes:[],catches:0,heaviestCatch:{weight:0,species:null},stylePref:[.8,.2,.1,.3],baitPref:[.6,.8,.2,0]},{name:"Pike",castIndexes:[],catches:0,heaviestCatch:{weight:0,species:null},stylePref:[.4,.4,.8,.6],baitPref:[.3,.5,0,.8]},{name:"Perch",castIndexes:[],catches:0,heaviestCatch:{weight:0,species:null},stylePref:[.3,.3,.7,.4],baitPref:[.4,.5,.4,.8]}],s=[{name:"Sweetcorn",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Maggots",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Bread",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Lure",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}}],r=[{name:"Float",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Ledger",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Spin",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}},{name:"Feeder",castIndexes:[],duration:0,catches:0,heaviestCatch:{weight:0,species:null}}],i=[],l=function(e){return Math.floor(Math.random()*Math.floor(e))},c=0;c<e;c++){var o=l(t.length),d=l(s.length),u=l(r.length),m=Date.now()-l(315576e5),h=l(2e7)+4e4,v=m+h,b=new Date;b.setMilliseconds(v);var f=0,g=0;f=((f=Math.abs(b.getUTCHours()-12))+1)/6,g=Math.abs(b.getUTCMonth()-7);var p=0;l((g+=1)*f)<1&&(p=1);for(var E=l(100),_=0,k=Number((250*Math.random()).toFixed(2)),S=0;S<t[o].lakes[0].fish.length;S++){var y=t[o].lakes[0].fish[S];if(E<=(y+=_)){E=S;break}_=y}(n[E].baitPref[d]+n[E].stylePref[u])/2<.5&&(p=0,E=null,k=0),i.push({catch:p,castTime:m,reelInTime:v,duration:h,lake:o,bait:d,style:u,species:E,weight:k}),t[o].lakes[0].castIndexes.push(c),s[d].castIndexes.push(c),r[u].castIndexes.push(c),p&&n[E].castIndexes.push(c),t[o].lakes[0].duration+=h,t[o].lakes[0].catches+=p,k>t[o].lakes[0].heaviestCatch.weight&&(t[o].lakes[0].heaviestCatch.species=n[E].name,t[o].lakes[0].heaviestCatch.weight=k.toFixed(2)),s[d].duration+=h,s[d].catches+=p,k>s[d].heaviestCatch.weight&&(s[d].heaviestCatch.species=n[E].name,s[d].heaviestCatch.weight=k.toFixed(2)),r[u].duration+=h,r[u].catches+=p,k>r[u].heaviestCatch.weight&&(r[u].heaviestCatch.species=n[E].name,r[u].heaviestCatch.weight=k.toFixed(2)),null!==E&&k>n[E].heaviestCatch.weight&&(n[E].heaviestCatch.species=n[E].name,n[E].heaviestCatch.weight=k.toFixed(2)),p&&n[E].catches++}return a.castHistory=i,a.lakes=t,a.baits=s,a.styles=r,a.species=n,a},Ae=t(30),Je=t(67),Pe=t(13),ze=t.n(Pe);var Ge=function(e){var a=Object(n.useState)(0),t=Object(_.a)(a,2),r=t[0],i=t[1],l=function(a){try{if(a+1){var t={sessionTime:0,castingTime:0,casts:e.currentSession.rods[a].casts,catches:e.currentSession.rods[a].catches,bites:e.currentSession.rods[a].bites,casting:e.currentSession.rods[a].casting,bait:e.currentSession.rods[a].currentCast.bait,style:e.currentSession.rods[a].currentCast.style},n=(new Date).getTime();return t.sessionTime=n-e.currentSession.startTime,t.castingTime=null===e.currentSession.rods[a].currentCast.castTime?0:n-e.currentSession.rods[a].currentCast.castTime,t}var s={sessionTime:0,castingTime:0,casts:0,catches:0,bites:0,bait:null,style:null,casting:null},r=(new Date).getTime();for(var i in s.sessionTime=r-e.currentSession.startTime,e.currentSession.rods)s.castingTime+=null===e.currentSession.rods[i].currentCast.castTime?0:r-e.currentSession.rods[i].currentCast.castTime,s.casts+=e.currentSession.rods[i].casts,s.catches+=e.currentSession.rods[i].catches,s.bites+=e.currentSession.rods[i].bites;return console.log(s),s}catch(l){console.log("Error: Couldn't retrieve rod ".concat(a,"."))}}(r);return e.currentSession?s.a.createElement("div",{className:ze.a.container},s.a.createElement("div",{className:ze.a.display},s.a.createElement("div",{className:ze.a.lakeName},e.lakes[e.currentSession.lakeIndex].name),s.a.createElement("div",{className:ze.a.castInfo},s.a.createElement("div",{className:ze.a.displayItem},s.a.createElement("p",null,"Session time")," ",s.a.createElement("p",null,e.mSToReadable(l.sessionTime))),s.a.createElement("div",{className:ze.a.displayItem},r+1?s.a.createElement("p",null,"Current cast"):s.a.createElement("p",null,"Time in water")," ",s.a.createElement("p",null,l.castingTime?e.mSToReadable(l.castingTime):"--")),s.a.createElement("div",{className:ze.a.displayItem},s.a.createElement("p",null,"Casts"),s.a.createElement("p",null,l.casts)),s.a.createElement("div",{className:ze.a.displayItem},s.a.createElement("p",null,"Catches")," ",s.a.createElement("p",null,l.catches)),s.a.createElement("div",{className:ze.a.displayItem},s.a.createElement("p",null,"Bites")," ",s.a.createElement("p",null,l.bites)),s.a.createElement("div",{className:ze.a.rods},s.a.createElement(ke.a,{size:"sm"},s.a.createElement(H.a,{variant:"secondary",onClick:function(){i(-1)}},"All"),e.currentSession.rods.map((function(e,a){return s.a.createElement(H.a,{key:a,variant:e.casting?"success":"secondary",style:{fontSize:"small"},onClick:function(){i(a)}},"Rod ".concat(a+1))})),e.currentSession.rods.length<4?s.a.createElement(H.a,{variant:"primary",onClick:function(){e.addRod()}},"+"):null)))),s.a.createElement("div",{className:ze.a.controls},s.a.createElement("div",{className:ze.a.rodOptions},s.a.createElement(Je.a,{as:ke.a,style:{width:"39vw"},size:"sm",variant:"info",title:null!==l.bait?e.baits[l.bait].name:"NO BAIT",disabled:!(r+1)},e.baits.map((function(a,t){return null!==a?s.a.createElement(Ae.a.Item,{key:t,eventKey:t,onClick:function(){var a;a=t,e.changeBait(r,a)}},a.name):null}))),s.a.createElement(Je.a,{as:ke.a,style:{width:"39vw"},size:"sm",variant:"info",title:null!==l.style?e.styles[l.style].name:"NO STYLE",disabled:!(r+1)},e.styles.map((function(a,t){return null!==a?s.a.createElement(Ae.a.Item,{key:t,eventKey:t,onClick:function(){var a;a=t,e.changeStyle(r,a)}},a.name):null})))),s.a.createElement("div",{className:ze.a.fishingControls},l.casting?s.a.createElement(H.a,{className:ze.a.fullButton,variant:"success"},"FISH LANDED"):s.a.createElement(H.a,{className:ze.a.fullButton,disabled:null===l.casting,variant:"secondary",onClick:function(){e.cast(r)}},"CAST"),s.a.createElement("div",{className:ze.a.hBox},s.a.createElement(H.a,{className:ze.a.halfButton,disabled:!l.casting,size:"sm",variant:"primary",onClick:function(){e.recordBite(r)}},"BITE / RUN"),l.casting?s.a.createElement(H.a,{className:ze.a.halfButton,size:"sm",variant:"secondary",onClick:function(){e.recordCatchFail(r)}},"END CAST"):s.a.createElement(H.a,{className:ze.a.halfButton,disabled:!!function(){var a=[];for(var t in e.currentSession.rods)e.currentSession.rods[t].casting&&a.push(t);return a}().length,size:"sm",variant:"danger",onClick:function(){e.endSession()}},"END SESSION")))),s.a.createElement(g.b,{to:"/fishv3/"},s.a.createElement(H.a,{style:{width:"80vw"}},"Back")," ")):s.a.createElement(E.a,{to:"/fishv3/"})},Ye=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).isValidLake=function(e){return!(e<0||e>n.state.lakes.length)&&!!n.state.lakes[e]},n.getDefaultLake=function(){if(n.state.currentSession&&n.isValidLake(n.state.currentSession.lakeIndex))return n.state.currentSession.lakeIndex;if(void 0!==n.state.currentVariable.variableIndex&&n.isValidLake(n.state.currentVariable.variableIndex))return n.state.currentVariable.variableIndex;for(var e=0;e<n.state.lakes.length;e++)if(n.isValidLake(e))return e;return null},n.addLake=function(e){var a=Object(c.a)(n.state.lakes),t={name:e,lakes:[{name:e,duration:0,catches:0,heaviestCatch:{weight:0,species:null},castIndexes:[]}],weather:{data:null,lastUpdated:null},coordinates:null};a.push(t),n.setState({lakes:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.addBait=function(e){var a=Object(c.a)(n.state.baits),t={name:e,duration:0,catches:0,heaviestCatch:{weight:0,species:null},castIndexes:[]};a.push(t),n.setState({baits:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.addStyle=function(e){var a=Object(c.a)(n.state.styles),t={name:e,duration:0,catches:0,heaviestCatch:{weight:0,species:null},castIndexes:[]};a.push(t),n.setState({styles:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.addSpecies=function(e){var a=Object(c.a)(n.state.species),t={name:e,catches:0,heaviestCatch:{weight:0,species:null},castIndexes:[]};a.push(t),n.setState({species:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.editVarName=function(e,a){var t=prompt("New name:","".concat(n.state[e][a].name));if(t){var s=Object(c.a)(n.state[e]);s[a].name=t,"lakes"===e&&(s[a].lakes[0].name=t),n.setState(Object(l.a)({},e,s),(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))}},n.deleteVar=function(e,a){alert("".concat(e," + ").concat(a));var t=Object(c.a)(n.state[e]);t[a]=null,n.setState(Object(l.a)({},e,t),(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.setCurrentVariable=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===t?n.setState({currentVariable:{variableType:e,variableIndex:a}}):n.setState({currentVariable:{variableType:e,variableIndex:a},callback:t})},n.nextVar=function(){var e=n.state.currentVariable;do{e.variableIndex===n.state[e.variableType].length-1?e.variableIndex=0:e.variableIndex++}while(null===n.state[e.variableType][e.variableIndex]);n.setState({currentVariable:e})},n.prevVar=function(){var e=n.state.currentVariable;do{0===e.variableIndex?e.variableIndex=n.state[e.variableType].length-1:e.variableIndex--}while(null===n.state[e.variableType][e.variableIndex]);n.setState({currentVariable:e})},n.setManagerFilter=function(e){var a=n.state.managerFilter;a=e,n.setState({managerFilter:a})},n.mSToReadable=function(e){var a=e/1e3%60,t=a.toFixed(),n=(e/1e3-a)/60%60,s=((e/1e3-a)/60-n)/60;return"".concat(s<10?"0".concat(s):s,":").concat(n<10?"0".concat(n):n,":").concat(t<10?"0".concat(t):t)},n.mSToDate=function(e){var a=new Date;return a.setTime(e),a},n.mSToHours=function(e){var a=(e/36e5).toFixed();return a<1?" 0 h":"".concat(a," h")},n.getLocation=function(){navigator.geolocation.getCurrentPosition(n.locationSuccess,n.locationError,{enableHighAccuracy:!1,maximumAge:1/0,timeout:1e4})},n.locationSuccess=function(e){var a={latitude:e.coords.latitude,longitude:e.coords.longitude},t=n.didCoordinatesUpdate(n.state.lakes[n.state.currentVariable.variableIndex].coordinates,a),s=Object(c.a)(n.state.lakes);s[n.state.currentVariable.variableIndex].coordinates=a,n.setState({lakes:s},(function(){localStorage.setItem("app-data",JSON.stringify(n.state)),n.lakeWeatherRefresh(n.state.currentVariable.variableIndex,t)}))},n.locationError=function(e){console.log("Error code: ".concat(e.code,"   message: ").concat(e.message))},n.setLocation=function(){n.getLocation()},n.manualSetLocation=function(e,a){var t={latitude:e,longitude:a},s=n.didCoordinatesUpdate(n.state.lakes[n.state.currentVariable.variableIndex].coordinates,t),r=Object(c.a)(n.state.lakes);r[n.state.currentVariable.variableIndex].coordinates=t,console.log(t),n.setState({lakes:r},(function(){localStorage.setItem("app-data",JSON.stringify(n.state)),n.lakeWeatherRefresh(n.state.currentVariable.variableIndex,s)}))},n.getWeather=function(e){var a="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.latitude.toFixed(4),"&lon=").concat(e.longitude.toFixed(4),"&exclude=current,minutely,alert&units=metric&appid=").concat("9224b10de6e78631ab14b66a8c44d997");return fetch(a).then((function(e){if(!e.ok)throw new Error("Network response not ok");return e.text()})).then((function(e){return JSON.parse(e)})).catch((function(e){return console.error("There has been a problem with your fetch operation: ",e)}))},n.updateWeather=function(e,a){var t=Object(c.a)(n.state.lakes),s=new Date;t[e].weather.data=a,t[e].weather.lastUpdated=s.getTime(),console.log(n.state),n.setState({lakes:t},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.setWeather=function(e){null!==n.state.lakes[e].coordinates&&(console.log(n.state.lakes[e].coordinates),n.getWeather(n.state.lakes[e].coordinates).then((function(a){return n.updateWeather(e,a)})))},n.weatherRefresh=function(){for(var e=(new Date).getTime(),a=0;a<n.state.lakes.length;a++)null!==n.state.lakes[a]&&(console.log(n.state.lakes[a].weather.lastUpdated,"here"),(n.state.lakes[a].coordinates&&e-n.state.lakes[a].weather.lastUpdated>18e5||void 0===n.state.lakes[a].weather.data)&&n.setWeather(a))},n.lakeWeatherRefresh=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(new Date).getTime();null!==n.state.lakes[e]&&n.state.lakes[e].coordinates&&(t-n.state.lakes[e].weather.lastUpdated>18e5||a)&&(console.log("fetching ".concat(e)),n.setWeather(e))},n.startSession=function(e){var a=n.state.currentSession;a={lakeIndex:e,startTime:(new Date).getTime(),casts:0,bites:0,catches:0,castingDuration:0,rods:[{name:"Rod 1",casts:0,catches:0,bites:0,currentCast:{castTime:null,catchSuccess:!1,reelInTime:null,bites:0,bait:null,style:null},castHistory:[]}],castHistory:[]},n.setState({currentSession:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.endSession=function(){var e=Object(c.a)(n.state.castHistory);e.concat(n.state.currentSession.castHistory),console.log(e);n.state.currentSession;n.setState({castHistory:e,currentSession:null},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.addRod=function(){var e={name:"Rod ".concat(n.state.currentSession.rods.length+1),casting:!1,casts:0,catches:0,bites:0,currentCast:{castTime:null,catchSuccess:!1,reelInTime:null,bites:0,bait:null,style:null,castDuration:0},castHistory:[]},a=n.state.currentSession;a.rods.push(e),n.setState({currentSession:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.cast=function(e){var a=n.state.currentSession,t=a.rods[e];t.casting=!0;var s=new Date;t.currentCast.castTime=s.getTime(),t.casts++,n.setState({currentSession:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.getReelInTime=function(){return(new Date).getTime()},n.endCast=function(e){var a=n.state.currentSession,t=a.rods[e];t.casting=!1,t.currentCast.castTime=null,t.currentCast.bites=0,t.currentCast.reelInTime=null,t.currentCast.bites=0,t.currentCast.castDuration=0,t.currentCast.catchSuccess=!1,n.setState({currentCast:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.recordBite=function(e){var a=n.state.currentSession,t=a.rods[e];t.currentCast.bites++,t.bites++,n.setState({currentSession:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.recordCatchFail=function(e){var a=n.state.currentSession,t=n.state.currentSession.rods[e].currentCast;console.log(n.state.currentSession.rods[e]);var s=n.getReelInTime();console.log(s);var r={castTime:t.castTime,reelInTime:s,bites:t.bites,bait:t.bait,style:t.style,catchSuccess:t.catchSuccess,lakeIndex:a.lakeIndex,castDuration:s-t.castTime};console.log(r),a.rods[e].castHistory.push(r),n.setState({currentSession:a},(function(){localStorage.setItem("app-data",JSON.stringify(n.state)),n.endCast(e),console.log(a.rods[e].castHistory)}))},n.changeBait=function(e,a){var t=n.state.currentSession;t.rods[e].currentCast.bait=a,n.setState({currentSession:t},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.changeStyle=function(e,a){var t=n.state.currentSession;t.rods[e].currentCast.style=a,n.setState({currentSession:t},(function(){localStorage.setItem("app-data",JSON.stringify(n.state))}))},n.state={lakes:[{name:"Lowestoft",lakes:[{name:"lowestoft",duration:0,catches:0,heaviestCatch:{weight:0,species:null},castIndexes:[]}],weather:{data:null,lastUpdated:null},coordinates:null}],baits:[],styles:[],species:[],castHistory:[],currentVariable:{},location:null,managerFilter:"lakes",currentSession:null},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){if(!localStorage.getItem("app-data")){var e=je(1e4);console.log(e),this.setState({lakes:e.lakes,baits:e.baits,styles:e.styles,species:e.species,castHistory:e.castHistory})}if(localStorage.getItem("app-data")){var a=JSON.parse(localStorage.getItem("app-data"));this.setState({lakes:a.lakes,baits:a.baits,styles:a.styles,species:a.species,castHistory:a.castHistory,currentSession:a.currentSession},(function(){this.weatherRefresh()}))}}},{key:"didCoordinatesUpdate",value:function(e,a){var t=!1;return e.latitude.toFixed(2)!==a.latitude.toFixed(2)&&e.longitude.toFixed(2)!==a.longitude.toFixed(2)&&(t=!0),console.log(e),console.log(a),t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:v.a.app},s.a.createElement(g.a,null,s.a.createElement(p,null),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/fishv3/",exact:!0,render:function(a){return s.a.createElement(pe,{lakes:e.state.lakes,getDefaultLake:e.getDefaultLake,addLake:e.addLake,currentVariable:e.state.currentVariable,setCurrentVariable:e.setCurrentVariable,mSToReadable:e.mSToHours,setLocation:e.setLocation,manualSetLocation:e.manualSetLocation,lakeWeatherRefresh:e.lakeWeatherRefresh,startSession:e.startSession,currentSession:e.state.currentSession})}})),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/fishv3/manage",render:function(a){return s.a.createElement(Ne,{lakes:e.state.lakes,baits:e.state.baits,styles:e.state.styles,species:e.state.species,addLake:e.addLake,addBait:e.addBait,addStyle:e.addStyle,addSpecies:e.addSpecies,filter:e.state.managerFilter,setFilter:e.setManagerFilter,setCurrentVariable:e.setCurrentVariable,editVarName:e.editVarName,deleteVariable:e.deleteVar,mSToReadable:e.mSToReadable})}})),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/fishv3/stats",render:function(a){return s.a.createElement(xe,{lakes:e.state.lakes,baits:e.state.baits,styles:e.state.styles,species:e.state.species,castHistory:e.state.castHistory})}})),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/fishv3/variable",render:function(a){return s.a.createElement(Re,{lakes:e.state.lakes,baits:e.state.baits,styles:e.state.styles,species:e.state.species,castHistory:e.state.castHistory,variable:e.state.currentVariable,nextVar:e.nextVar,prevVar:e.prevVar,mSToReadable:e.mSToReadable,mSToDate:e.mSToDate,mSToHours:e.mSToHours})}})),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/fishv3/session",render:function(a){return s.a.createElement(Ge,{currentSession:e.state.currentSession,lakes:e.state.lakes,baits:e.state.baits,styles:e.state.styles,species:e.state.species,mSToReadable:e.mSToReadable,endSession:e.endSession,addRod:e.addRod,cast:e.cast,recordBite:e.recordBite,recordCatchFail:e.recordCatchFail,changeBait:e.changeBait,changeStyle:e.changeStyle})}}))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[91,1,2]]]);
//# sourceMappingURL=main.19a5bac0.chunk.js.map